import{r as i,u as g,j as e,L as m,S as d}from"./index-B_7VeGgU.js";function p(){const[t,a]=i.useState(()=>{const l=localStorage.getItem("authToken");let r=null;try{const n=localStorage.getItem("authUser");r=n?JSON.parse(n):null}catch{r=null}return{token:l,user:r}}),o=i.useMemo(()=>!!t.token,[t.token]);i.useEffect(()=>{const l=()=>{const r=localStorage.getItem("authToken");let n=null;try{const h=localStorage.getItem("authUser");n=h?JSON.parse(h):null}catch{n=null}a({token:r,user:n})};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]);const u=i.useCallback(()=>{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),a({token:null,user:null})},[]),s=i.useCallback(()=>{const l=localStorage.getItem("authToken");let r=null;try{const n=localStorage.getItem("authUser");r=n?JSON.parse(n):null}catch{r=null}a({token:l,user:r})},[]),c=i.useCallback((l,r=null)=>{if(!t.token){const n=r?`/login?returnTo=${encodeURIComponent(r)}`:"/login";return l(n),!1}return!0},[t.token]);return{isAuthenticated:o,user:t.user,token:t.token,logout:u,refreshAuth:s,requireAuth:c}}function x(t,a,o={}){const{data:u,error:s,isLoading:c,mutate:l}=g(t,a,{revalidateOnFocus:!1,revalidateOnReconnect:!0,dedupingInterval:2e3,errorRetryCount:2,...o});return{data:u??null,loading:c,error:(s==null?void 0:s.message)||null,mutate:l}}function S({title:t,backLink:a,backText:o="â† Back",apiLabel:u,actions:s,children:c}){return e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{className:"page-header-top",children:[e.jsxs("div",{className:"page-header-left",children:[a&&e.jsx(m,{to:a,className:"back-link",children:o}),e.jsx("h2",{children:t})]}),s&&e.jsx("div",{className:"page-header-actions",children:s})]}),u&&e.jsx("p",{className:"api-label",children:u}),c]})}function f({message:t="Loading...",variant:a="default",count:o=3}){return a==="card"?e.jsx("div",{className:"loading-cards",children:Array.from({length:o}).map((u,s)=>e.jsxs("div",{className:"card loading-card",children:[e.jsx(d,{width:"60%",height:"1.25rem",style:{marginBottom:"0.75rem"}}),e.jsx(d,{width:"100%",height:"1rem",style:{marginBottom:"0.5rem"}}),e.jsx(d,{width:"80%",height:"1rem"})]},s))}):a==="list"?e.jsx("div",{className:"loading-list",children:Array.from({length:o}).map((u,s)=>e.jsx("div",{className:"loading-list-item",children:e.jsx(d,{width:"100%",height:"3rem",style:{marginBottom:"0.5rem"}})},s))}):e.jsx("div",{className:"loading",children:t})}function j({data:t,label:a="API Response"}){return null}export{j as A,f as L,S as P,x as a,p as u};
