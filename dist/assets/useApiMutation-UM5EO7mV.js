import{e as E,r as e}from"./index-B_7VeGgU.js";function S(l,g={}){const{onSuccess:r,onError:t,successMessage:o,errorMessage:a,showToast:n=!0}=g,{notify:c}=E(),[m,i]=e.useState(!1),[p,u]=e.useState(null),y=e.useCallback(async(...d)=>{i(!0),u(null);try{const s=await l(...d);return n&&o&&c("success",o),r&&r(s),s}catch(s){const f=(s==null?void 0:s.message)||a||"An error occurred";return u(f),n&&c("error",a||f),t&&t(s),null}finally{i(!1)}},[l,r,t,o,a,n,c]),b=e.useCallback(()=>{u(null)},[]);return{mutate:y,loading:m,error:p,reset:b}}export{S as u};
